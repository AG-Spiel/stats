(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{J5l9:function(e,t,a){"use strict";a.r(t),a.d(t,"TreemapsModule",function(){return C});var n=a("ofXK"),r=a("tyNb"),i=a("QcQV");const s=[{text:"Buchwert",value:"buchwert",name:"ag"},{text:"Marktkapitalisierung",value:"boersenwert",name:"ag"},{text:"Bargeld",value:"bargeld",name:"ag"},{text:"Aktien",value:"aktien",name:"ag"},{text:"Kredite",value:"kredite",name:"ag"},{text:"Anleihen",value:"anleihen",name:"ag"},{text:"Zertis",value:"zertis",name:"ag"},{text:"Buy-Orders",value:"buys",name:"ag"},{text:"Sell-Orders",value:"sells",name:"ag"}],o=[{text:"Buchwert",value:"buchwert",name:"name"},{text:"Marktkapitalisierung",value:"boersenwert",name:"name"},{text:"Bargeld",value:"bargeld",name:"name"},{text:"Aktien",value:"aktien",name:"name"},{text:"Kredite",value:"kredite",name:"name"},{text:"Anleihen",value:"anleihen",name:"name"}];var l=a("fXoL"),c=a("wXkB"),u=a("cclQ"),p=a("xJfa"),d=a("SvPF"),m=a("kmnG"),h=a("d3UM"),g=a("FKr1");function f(e,t){if(1&e&&(l.Tb(0,"mat-option",6),l.yc(1),l.Sb()),2&e){const e=t.$implicit;l.kc("value",e.value),l.Cb(1),l.zc(e.text)}}function b(e,t){if(1&e){const e=l.Ub();l.Tb(0,"div",2),l.Tb(1,"h1"),l.yc(2),l.Sb(),l.Tb(3,"mat-form-field",3),l.Tb(4,"mat-label"),l.yc(5,"W\xe4hle Kategorie"),l.Sb(),l.Tb(6,"mat-select",4),l.ac("valueChange",function(t){return l.qc(e),l.ec().selected=t})("selectionChange",function(t){return l.qc(e),l.ec().changeSelection(t)}),l.xc(7,f,2,2,"mat-option",5),l.Sb(),l.Sb(),l.Sb()}if(2&e){const e=l.ec();l.Cb(2),l.zc(e.title),l.Cb(4),l.kc("value",e.selected),l.Cb(1),l.kc("ngForOf",e.config)}}let v=(()=>{class e{constructor(e,t,a){this.platformId=e,this.zone=t,this.themeService=a,this.treeMapId="treemap",this.config=[]}createBasicTreeMap(){const e=u.d(this.treeMapId,p.e);return e.exporting.menu=new u.a,e.exporting.menu.align="right",e.exporting.menu.verticalAlign="bottom",e.logo.disabled=!0,e.numberFormatter.numberFormat="#.#a",e.numberFormatter.bigNumberPrefixes=[{number:1e6,suffix:" Mio."},{number:1e9,suffix:" Mrd."},{number:1e12,suffix:" Bill."}],e}importDataSet(e){if(void 0!==this.url)e.dataSource.url=this.url;else{if(void 0===this.data)throw new Error("No DataSource defined!");e.data=this.data}}createMapObject(e){if(void 0===this.config)throw new Error(`TreeMap with treeMapId: '${this.treeMapId}' has no described series`);{e.dataFields.value=this.config[0].value,e.dataFields.name=this.config[0].name;const t=e.seriesTemplates.create("0"),a=t.columns.template;a.column.cornerRadius(10,10,10,10),a.fillOpacity=.8;const n=this.themeService.getThemeObj();void 0!==n&&(a.stroke=u.c(n.backgroundColor)),a.strokeWidth=5,a.strokeOpacity=1;const r=t.bullets.push(new p.b);r.locationY=.5,r.locationX=.5,r.label.text="{name}"}}setMapConfig(e){if(void 0===this.treemap)throw new Error("Treemap is not created!");this.treemap.dataFields.value=e.value,this.treemap.dataFields.name=e.name}browserOnly(e){Object(n.t)(this.platformId)&&this.zone.runOutsideAngular(()=>{e()})}ngAfterViewInit(){this.browserOnly(()=>{const e=this.createBasicTreeMap();this.importDataSet(e),this.createMapObject(e),this.treemap=e})}ngOnDestroy(){this.browserOnly(()=>{this.treemap&&this.treemap.dispose()})}changeSelection(e){var t;const a=this.config.find(t=>t.value===e.value);if(void 0===a)throw new Error(`No valid option found with value ${e.value}`);this.title=a.text,this.setMapConfig(a),null===(t=this.treemap)||void 0===t||t.dataSource.load()}ngOnInit(){this.selected=this.config[0].value,this.title=this.config[0].text}}return e.\u0275fac=function(t){return new(t||e)(l.Nb(l.D),l.Nb(l.B),l.Nb(d.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-treemap"]],inputs:{treeMapId:"treeMapId",url:"url",data:"data",config:"config"},decls:3,vars:2,consts:[["class","input",4,"ngIf"],[1,"treemap",3,"id"],[1,"input"],["appearance","fill"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(l.Tb(0,"div"),l.xc(1,b,8,3,"div",0),l.Ob(2,"div",1),l.Sb()),2&e&&(l.Cb(1),l.kc("ngIf",t.selected),l.Cb(1),l.kc("id",t.treeMapId))},directives:[n.m,m.b,m.e,h.a,n.l,g.i],styles:[".treemap[_ngcontent-%COMP%]{width:100%;height:60vh}.input[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;align-items:center center}"]}),e})(),w=(()=>{class e{constructor(){this.url=i.a.AGS_STATS.INDEX.ALL,this.treeMapConfig=o}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Hb({type:e,selectors:[["app-index-treemap-page"]],decls:2,vars:2,consts:[["heading","TreeMap aller aktuellen Indizes","subheading","**Das laden des Charts kann sich aufgrund der Datenmenge verz\xf6gern**"],["treeMapId","indizesTreemap",1,"treemap",3,"url","config"]],template:function(e,t){1&e&&(l.Tb(0,"app-page-wrapper",0),l.Ob(1,"app-treemap",1),l.Sb()),2&e&&(l.Cb(1),l.kc("url",t.url)("config",t.treeMapConfig))},directives:[c.a,v],styles:[".treemap[_ngcontent-%COMP%]{width:75vw}"]}),e})();const x=[{path:"ags",component:(()=>{class e{constructor(){this.url=i.a.AGS_STATS.SHARE.TREEMAP,this.sharesTreemapConfig=s}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Hb({type:e,selectors:[["app-shares-treemap-page"]],decls:2,vars:2,consts:[["heading","TreeMap aller aktuellen AGs","subheading","**Das laden des Charts kann sich aufgrund der Datenmenge verz\xf6gern**"],["treeMapId","sharesTreemap",1,"treemap",3,"url","config"]],template:function(e,t){1&e&&(l.Tb(0,"app-page-wrapper",0),l.Ob(1,"app-treemap",1),l.Sb()),2&e&&(l.Cb(1),l.kc("url",t.url)("config",t.sharesTreemapConfig))},directives:[c.a,v],styles:[".treemap[_ngcontent-%COMP%]{width:75vw}"]}),e})()},{path:"indizes",component:w}];let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({imports:[[r.f.forChild(x)],r.f]}),e})();var k=a("PCNd");let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({imports:[[n.c,M,k.a]]}),e})()}}]);